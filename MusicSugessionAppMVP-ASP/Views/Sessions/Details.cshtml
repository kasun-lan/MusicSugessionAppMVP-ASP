@using MusicSugessionAppMVP_ASP.Persistance
@model MusicSugessionAppMVP_ASP.Persistance.Session

<div class="relative w-full bg-black max-w-[375px] h-[812px] flex flex-col">

    <!-- Notch -->
    <div class="absolute top-0 left-1/2 -translate-x-1/2 w-40 h-7 bg-black rounded-b-3xl z-20"></div>

    <div class="flex-1 overflow-y-auto p-6 pt-16 text-white space-y-6">

        @Html.Partial("_Logo")

        <div>
            <h1 class="text-lg font-bold">
                SPEED CRATING
            </h1>
            <div class="text-sm text-white">
                @Model.StartedAtUtc.ToLocalTime().ToString("dd MMM yyyy HH:mm")
            </div>
        </div>

        <div>
            <h2 class="text-sm uppercase text-white mb-2">Seed Artists</h2>
            <div class="space-y-1">
                @foreach (var a in Model.InputArtists.OrderBy(x => x.Position))
                {
                    <div>@a.Artist.Name</div>
                }
            </div>
        </div>

        <div>
            <h2 class="text-sm uppercase text-white mb-2">Liked Tracks</h2>

            <div class="space-y-3">
                @foreach (var swipe in Model.SwipeEvents.Where(x => x.Direction == SwipeDirection.Like))
                {
                    <div class="border-b border-white pb-2">
                        <div class="font-medium">@swipe.Track.Name</div>
                        <div class="text-sm text-white">
                            @swipe.Track.Artist.Name
                        </div>
                    </div>
                }
            </div>
        </div>

        @if (Model.SessionExports.Any())
        {
            <div class="text-[#B4FF00] text-sm">
                Generate share link for this list
            </div>
        }

    </div>

    <div class="mt-auto pb-6">
        @await Html.PartialAsync("_BottomNav")
    </div>
</div>
