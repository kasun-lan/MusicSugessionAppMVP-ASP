@model IEnumerable<MusicSugessionAppMVP_ASP.Persistance.Session>

<div class="relative w-full bg-black max-w-[375px] h-[812px] bg-black rounded-[3rem] flex flex-col">

    <!-- Notch -->
    <div class="absolute top-0 left-1/2 -translate-x-1/2 w-40 h-7 bg-black rounded-b-3xl z-20"></div>

    <div class="flex-1 overflow-y-auto p-6 pt-16 text-white">

        @Html.Partial("_Logo")

        <h1 class="text-xl font-bold mb-6">YOUR LISTS</h1>

        <div class="space-y-4">
            @foreach (var session in Model)
            {
                <a asp-action="Details"
                   asp-route-id="@session.Id"
                   class="block p-4 border border-white/20 rounded hover:border-[#B4FF00] transition">

                    <div class="text-sm text-white/70">
                        @session.StartedAtUtc.ToLocalTime().ToString("dd MMM yyyy HH:mm")
                    </div>

                    <div class="mt-1 text-white font-medium">
                        @if (session.InputArtists != null && session.InputArtists.Any())
                        {
                            @string.Join(", ", session.InputArtists.OrderBy(ia => ia.Position).Select(ia => ia.Artist?.Name ?? "Unknown"))
                        }
                        else
                        {
                            <span class="text-white/50">No artists</span>
                        }
                    </div>
                </a>
            }

            @if (!Model.Any())
            {
                <div class="text-white/50 text-sm text-center">
                    No lists yet.
                </div>
            }
        </div>

    </div>

    <div class="mt-auto pb-6">
        @await Html.PartialAsync("_BottomNav")
    </div>
</div>
